{% extends 'base/main.html' %}
{% block content %}
<script>  
function validateForm() {  
    //collect form data in JavaScript variables  
    var pw1 = document.getElementById("pswd1").value;  
    var pw2 = document.getElementById("pswd2").value;  
    var name1 = document.getElementById("username").value;  
   
      
   if(!isNaN(pw1)){
      document.getElementById("blankMsg").innerHTML = "Only characters are allowed";
      return false;
    }
    
    //check empty password field  
    if(pw1 == "") {  
      document.getElementById("message1").innerHTML = "Fill the password please!";  
      return false;  
    }  
    
    //check empty confirm password field  
    if(pw2 == "") {  
      document.getElementById("message2").innerHTML = "Enter the password please!";  
      return false;  
    }   
     
    //minimum password length validation  
    if(pw1.length < 8) {  
      document.getElementById("message1").innerHTML = "Password length must be atleast 8 characters and ";  
      return false;  
    }  
  
    
    if(pw1 != pw2) {  
      document.getElementById("message2").innerHTML = "Passwords are not same";  
      return false;  
    } else {  
     
      document.getElementById("myForm").submit();  
    }  
 }  
</script>  
<div class="header-bar">
  <div class="logo"> <span style="padding-right: 3px;" class="icon">&#9775;</span>kitendo</div>
    <h1 id="log">Register</h1>
</div>

<div class="card-body">
    <form method="POST" id="myForm" onsubmit ="return validateForm()">
        {% csrf_token %}
        <label id="username">{{form.username.label}}</label>
        {{form.username}}

        <label id = "pswd1" >{{form.password1.label}}</label>
        {{form.password1}}
        <span id = "message1" style="color:red"> </span> 
        <span id = "blankMsg" style="color:red"> </span>
        <label id = "pswd2" >{{form.password2.label}}</label>
        {{form.password2}}
      <span id = "message2" style="color:red"> </span> 
        <input style="margin-top:10px ;" class="button" type="submit" value="Register">
    </form>
    <p>Already have an account? <a href="{% url 'login' %}">Login</a></p>
</div>




{% endblock content %}
